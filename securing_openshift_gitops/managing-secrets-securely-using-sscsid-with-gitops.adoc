:_mod-docs-content-type: ASSEMBLY
[id="managing-secrets-securely-using-sscsid-with-gitops"]
= Managing secrets securely using Secrets Store CSI driver with {gitops-shortname}
include::_attributes/common-attributes.adoc[]
:context: managing-secrets-securely-using-sscsid-with-gitops

toc::[]

This guide walks you through the process of integrating the {OCP} Secrets Store Container Storage Interface (SSCSI) driver with the {gitops-shortname} Operator.

Some applications need sensitive information, such as passwords and user names, that you do not want developers to have. If role-based access control is not configured properly on your cluster, anyone with API or etcd access can retrieve or modify a secret. Additionally, anyone who is authorized to create a pod in a namespace can use that access to read any secret in that namespace. With the SSCSI Driver Operator, you can use an external secrets store to store and provide sensitive information to pods securely. You can enhance the security and efficiency of your {gitops-shortname} workflows, facilitate the secure attachment of secrets into application pods as a volume, and ensure that sensitive information is accessed securely and efficiently. 

The following secrets store providers are available for use with the Secrets Store CSI Driver Operator:

* AWS Secrets Manager
* AWS Systems Manager Parameter Store
* Azure Key Vault

[id="prerequisites_managing-secrets-securely-using-sscsid-with-gitops"]
== Prerequisites
* You have access to the cluster with `cluster-admin` privileges.
* You have access to the {OCP} web console.
* You have extracted and prepared the `ccoctl` binary.
* You have installed the `jq` CLI tool.
* Your cluster is installed on AWS and uses AWS Security Token Service (STS).
* You have configured AWS Secrets Manager to store the required secrets.
* link:https://docs.openshift.com/container-platform/latest/nodes/pods/nodes-pods-secrets-store.html#persistent-storage-csi-secrets-store-driver-install_nodes-pods-secrets-store[SSCSI Driver Operator is installed on your cluster].
* {gitops-title} Operator is installed on your cluster.
* You have a {gitops-shortname} repository ready to use the secrets.
* You are logged in to the Argo CD instance by using the Argo CD admin account.

include::modules/gitops-storing-aws-secret-manager-resources-in-gitops-repository.adoc[leveloffset=+1]

include::modules/gitops-configuring-sscsi-driver-to-mount-secrets-from-aws-secrets-manager.adoc[leveloffset=+1]

include::modules/gitops-configuring-gitops-managed-resources-to-use-mounted-secrets.adoc[leveloffset=+1]

[id="additional-resources_managing-secrets-securely-using-sscsid-with-gitops"]
[role="_additional-resources"]
== Additional resources

* link:https://github.com/redhat-developer/gitops-operator/blob/bfdf81944ea60b1d62d7de7c223c3bea3e7363a6/docs/Integrate%20GitOps%20with%20Secrets%20Management.md#obtain-the-ccoctl-tool[Obtaining the `ccoctl` tool]
* link:https://docs.openshift.com/container-platform/latest/installing/installing_ibm_cloud_public/configuring-iam-ibm-cloud.html#cco-ccoctl-configuring_configuring-iam-ibm-cloud[Configuring the Cloud Credential Operator utility]
* link:https://github.com/redhat-developer/gitops-operator/blob/bfdf81944ea60b1d62d7de7c223c3bea3e7363a6/docs/Integrate%20GitOps%20with%20Secrets%20Management.md#configure-your-aws-cluster-to-use-aws-security-token-service-sts[Configure your AWS cluster to use AWS STS]
* link:https://docs.aws.amazon.com/secretsmanager/latest/userguide/create_secret.html[Configuring AWS Secrets Manager to store the required secrets]
* link:https://docs.openshift.com/container-platform/latest/nodes/pods/nodes-pods-secrets-store.html#persistent-storage-csi-secrets-store-driver-overview_nodes-pods-secrets-store[About the Secrets Store CSI Driver Operator]
* link:https://docs.openshift.com/container-platform/latest/nodes/pods/nodes-pods-secrets-store.html#mounting-secrets-external-secrets-store[Mounting secrets from an external secrets store to a CSI volume]