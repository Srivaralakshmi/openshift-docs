:_content-type: ASSEMBLY
include::_attributes/common-attributes.adoc[]
[id="understanding-multitenancy-support"]
= Understanding multitenancy support
:context: understanding-multitenancy-support

toc::[]

{gitops-title} Operator provides three distinct multitenancy models for you to serve, provide a level of isolation, and delegate some specific tasks to different groups of users or application delivery teams (tenants):

* Instance-per-tenant
* Centrally managed Argo CD instance
* Centrally provisioned self-managed instance

All these models have their advantages and disadvantages and provide different isolation levels. Consider your requirements carefully before deciding which model to choose. Although you can switch an instance between the two models, the switching process might vary fundamentally in its implementation.

// About the Instance-per-tenant model
include::modules/gitops-instance-per-tenant-model.adoc[leveloffset=+1]

// About the Centrally managed Argo CD instance model
include::modules/gitops-centrally-managed-argocd-instance-model.adoc[leveloffset=+1]

// About the Centrally provisioned self-managed instance model
include::modules/gitops-centrally-provisioned-self-managed-instance-model.adoc[leveloffset=+1]

// About the Mapping of multi-tenancy models
include::modules/gitops-mapping-of-multitenancy-models.adoc[leveloffset=+1]

// About understanding Argo CD permission model for multitenancy support
include::modules/gitops-understanding-argocd-permission-model-for-multitenancy-support.adoc[leveloffset=+1]

[TIP]
====
By default, the cluster management instance comes with {gitops-shortname} in the `openshift-gitops` namespace. Do not share this default instance with development teams or other non-cluster administrators. Instead, set up a custom cluster-scoped instance.
====

[role="_additional-resources"]
[id="additional-resources_understanding-multi-tenancy-support"]
== Additional resources
* link:https://docs.openshift.com/container-platform/latest/operators/understanding/olm-common-terms.html#olm-common-terms-multitenancy_olm-common-terms[What is multitenancy?]
* link:https://cloud.redhat.com/blog/a-guide-to-using-gitops-and-argocd-with-rbac[A Guide to using {gitops-shortname} and ArgoCD with RBAC]
* link:https://access.redhat.com/solutions/6001241[Achieving multitenant deployments with {gitops-title}]
* link:https://developers.redhat.com/articles/2022/04/13/manage-namespaces-multitenant-clusters-argo-cd-kustomize-and-helm[Managing namespaces in multitenant clusters with Argo CD, Kustomize, and Helm]
* link:https://docs.openshift.com/container-platform/latest/operators/understanding/olm/olm-understanding-operatorgroups.html#olm-operatorgroups-limitations[Limitations for multitenant Operator management]
* xref:../declarative_clusterconfig/configuring-an-openshift-cluster-by-deploying-an-application-with-cluster-configurations.adoc#configuring-an-openshift-cluster-by-deploying-an-application-with-cluster-configurations[Using an Argo CD instance to manage cluster-scoped resources]
